English | [简体中文](README.cn.md)

This is a project to extract slides from a conference video and add corresponding text for each slide. The project contains three scripts: `extract_ppt_images_ssim_ocr.py`, `create_markdown.py`, and `translate.py`.

### extract_ppt_images_ssim_ocr.py

This script is used to extract slides from a conference video. It utilizes structural similarity (SSIM) and OCR technology to identify slides within the video and saves them as images.

### create_markdown.py

This script is used to create a markdown file for the extracted slide images. It adds text from the subtitle file (.srt) corresponding to the images into the markdown file.

### translate.py

This script is used to translate and summarize the markdown file. It uses the OpenAI GPT-3.5-turbo model to translate English text into Chinese and generate summaries for longer texts.

## How to Use

1. First, use `extract_ppt_images_ssim_ocr.py` to extract slide images from the conference video:

```bash
python extract_ppt_images_ssim_ocr.py <video_file> <output_dir> [--start_time START_TIME] [--end_time END_TIME]
```


2. Next, use `create_markdown.py` to create a markdown file for the extracted images:

```bash
python create_markdown.py <folder> <video> <output>
```


Where `<folder>` is the directory containing the extracted slide images and subtitle file (*.srt), `<video>` is the conference video file, and `<output>` is the markdown file to be generated.

3. Finally, use `translate.py` to translate and summarize the markdown file:

```bash
python translate.py <input_file> <output_file> [--start_image START_IMAGE]
```


Where `<input_file>` is the markdown file generated by `create_markdown.py`, `<output_file>` is the translated markdown file to be generated. You can use the `--start_image` option to specify from which image to start the translation.

Note: Before using `translate.py`, make sure you have configured the OpenAI API key.
```bash
export OPENAI_API_KEY="your_api_key_here"
```